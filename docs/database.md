The LifterLMS Database
======================

The following document describes the schema and purpose of the various tables
installed by the LifterLMS core plugin.

<!-- START TOKEN(Autogenerated API docs) -->
<!-- Last Generated at: 2022-11-08T23:18:28+00:00 -->

## lifterlms_events

Stores user interaction event data.

### Columns

| Field        | Type                | Null | Key | Default | Extra          | Description                                      |
| ------------ | ------------------- | ---- | --- | ------- | -------------- | ------------------------------------------------ |
| id           | bigint(20) unsigned | NO   | PRI |         | auto_increment | The event ID.                                    |
| date         | datetime            | YES  |     | NULL    |                | A timestamp recorded when the event is created.  |
| actor_id     | bigint(20) unsigned | YES  | MUL | NULL    |                | The `WP_User` ID of the user.                    |
| object_type  | varchar(55)         | YES  |     | NULL    |                | The type of object the event was made against.   |
| object_id    | bigint(20) unsigned | YES  | MUL | NULL    |                | The ID of the object the event was made against. |
| event_type   | varchar(55)         | YES  |     | NULL    |                | The type of event.                               |
| event_action | varchar(55)         | YES  |     | NULL    |                | The type of action.                              |
| meta         | longtext            | YES  |     | NULL    |                | Event meta data, stored as a JSON object.        |

### Create Statement

```mysql
CREATE TABLE IF NOT EXISTS `wp_lifterlms_events` (
  `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  `date` datetime DEFAULT NULL,
  `actor_id` bigint(20) UNSIGNED DEFAULT NULL,
  `object_type` varchar(55) DEFAULT NULL,
  `object_id` bigint(20) UNSIGNED DEFAULT NULL,
  `event_type` varchar(55) DEFAULT NULL,
  `event_action` varchar(55) DEFAULT NULL,
  `meta` longtext DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `actor_id` (`actor_id`),
  KEY `object_id` (`object_id`)
);
```

## lifterlms_events_open_sessions

Records all open user sessions.

### Columns

| Field    | Type                | Null | Key | Default | Extra          | Description                                   |
| -------- | ------------------- | ---- | --- | ------- | -------------- | --------------------------------------------- |
| id       | bigint(20) unsigned | NO   | PRI |         | auto_increment | The session ID.                               |
| event_id | bigint(20) unsigned | NO   |     |         |                | The ID of the event that started the session. |

### Create Statement

```mysql
CREATE TABLE IF NOT EXISTS `wp_lifterlms_events_open_sessions` (
  `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  `event_id` bigint(20) UNSIGNED NOT NULL,
  PRIMARY KEY (`id`)
);
```

## lifterlms_notifications

Stores user notification data.

### Columns

| Field      | Type                | Null | Key | Default | Extra          | Description                                        |
| ---------- | ------------------- | ---- | --- | ------- | -------------- | -------------------------------------------------- |
| id         | bigint(20) unsigned | NO   | PRI |         | auto_increment | The notification ID.                               |
| created    | datetime            | YES  |     | NULL    |                | A timestamp recorded when the notification is c... |
| updated    | datetime            | YES  |     | NULL    |                | A timestamp recorded when the notification is u... |
| status     | varchar(11)         | YES  | MUL | 0       |                | The notification status.                           |
| type       | varchar(75)         | YES  | MUL | NULL    |                | The notification type.                             |
| subscriber | varchar(255)        | YES  | MUL | NULL    |                | The notification subscriber.                       |
| trigger_id | varchar(75)         | YES  |     | NULL    |                | The ID of the notification trigger.                |
| user_id    | bigint(20) unsigned | YES  |     | NULL    |                | The `WP_User` ID of the user who triggered the ... |
| post_id    | bigint(20) unsigned | YES  |     | NULL    |                | The `WP_Post` ID of a related post.                |

### Create Statement

```mysql
CREATE TABLE IF NOT EXISTS `wp_lifterlms_notifications` (
  `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  `created` datetime DEFAULT NULL,
  `updated` datetime DEFAULT NULL,
  `status` varchar(11) DEFAULT '0',
  `type` varchar(75) DEFAULT NULL,
  `subscriber` varchar(255) DEFAULT NULL,
  `trigger_id` varchar(75) DEFAULT NULL,
  `user_id` bigint(20) UNSIGNED DEFAULT NULL,
  `post_id` bigint(20) UNSIGNED DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `status` (`status`),
  KEY `type` (`type`),
  KEY `subscriber` (`subscriber`(191))
);
```

## lifterlms_product_to_voucher

Stores relationship data between products and vouchers.

### Columns

| Field      | Type                | Null | Key | Default | Extra | Description                      |
| ---------- | ------------------- | ---- | --- | ------- | ----- | -------------------------------- |
| product_id | bigint(20) unsigned | NO   | MUL |         |       | The `WP_Post` ID of the product. |
| voucher_id | bigint(20) unsigned | NO   | MUL |         |       | The `WP_Post` ID of the voucher. |

### Create Statement

```mysql
CREATE TABLE IF NOT EXISTS `wp_lifterlms_product_to_voucher` (
  `product_id` bigint(20) UNSIGNED NOT NULL,
  `voucher_id` bigint(20) UNSIGNED NOT NULL,
  KEY `product_id` (`product_id`),
  KEY `voucher_id` (`voucher_id`)
);
```

## lifterlms_quiz_attempts

Stores a record for each user quiz attempt.

### Columns

| Field       | Type                | Null | Key | Default | Extra          | Description                                        |
| ----------- | ------------------- | ---- | --- | ------- | -------------- | -------------------------------------------------- |
| id          | bigint(20) unsigned | NO   | PRI |         | auto_increment | The quiz attempt ID.                               |
| student_id  | bigint(20) unsigned | YES  | MUL | NULL    |                | A `WP_User` ID.                                    |
| quiz_id     | bigint(20) unsigned | YES  | MUL | NULL    |                | The `WP_Post` ID of the associated quiz.           |
| lesson_id   | bigint(20) unsigned | YES  |     | NULL    |                | The `WP_Post` ID of the associated lesson.         |
| start_date  | datetime            | YES  |     | NULL    |                | Timestamp recorded when the attempt is started.    |
| update_date | datetime            | YES  |     | NULL    |                | Timestamp recorded when the attempt is updated.    |
| end_date    | datetime            | YES  |     | NULL    |                | Timestamp recorded when the attempt is ended.      |
| status      | varchar(15)         | YES  |     |         |                | Attempt status.                                    |
| attempt     | bigint(20)          | YES  |     | NULL    |                | Attempt number.                                    |
| grade       | float               | YES  |     | NULL    |                | Attempt grade.                                     |
| questions   | longtext            | YES  |     | NULL    |                | Object representing the quiz at the time when t... |

### Create Statement

```mysql
CREATE TABLE IF NOT EXISTS `wp_lifterlms_quiz_attempts` (
  `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  `student_id` bigint(20) UNSIGNED DEFAULT NULL,
  `quiz_id` bigint(20) UNSIGNED DEFAULT NULL,
  `lesson_id` bigint(20) UNSIGNED DEFAULT NULL,
  `start_date` datetime DEFAULT NULL,
  `update_date` datetime DEFAULT NULL,
  `end_date` datetime DEFAULT NULL,
  `status` varchar(15) DEFAULT '',
  `attempt` bigint(20) DEFAULT NULL,
  `grade` float DEFAULT NULL,
  `questions` longtext DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `student_id` (`student_id`),
  KEY `quiz_id` (`quiz_id`)
);
```

## lifterlms_sessions

Records user sessions.

### Columns

| Field       | Type                | Null | Key | Default | Extra          | Description                                |
| ----------- | ------------------- | ---- | --- | ------- | -------------- | ------------------------------------------ |
| id          | bigint(20) unsigned | NO   | PRI |         | auto_increment | The session ID.                            |
| session_key | char(32)            | NO   | UNI |         |                | The unique session key.                    |
| data        | longtext            | NO   |     |         |                | The session data, stored as a JSON object. |
| expires     | bigint(20) unsigned | NO   |     |         |                | The session data, stored as a JSON object. |

### Create Statement

```mysql
CREATE TABLE IF NOT EXISTS `wp_lifterlms_sessions` (
  `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  `session_key` char(32) NOT NULL,
  `data` longtext NOT NULL,
  `expires` bigint(20) UNSIGNED NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `session_key` (`session_key`)
);
```

## lifterlms_user_postmeta

Stores user information related to the specified post. Such as student
enrollment and progress data.

### Columns

| Field        | Type                | Null | Key | Default             | Extra          | Description                                       |
| ------------ | ------------------- | ---- | --- | ------------------- | -------------- | ------------------------------------------------- |
| meta_id      | bigint(20) unsigned | NO   | PRI |                     | auto_increment | The meta data ID.                                 |
| user_id      | bigint(20) unsigned | NO   | MUL |                     |                | A `WP_User` ID.                                   |
| post_id      | bigint(20) unsigned | NO   | MUL |                     |                | A `WP_Post` ID.                                   |
| meta_key     | varchar(255)        | YES  |     | NULL                |                | The meta data key / name.                         |
| meta_value   | longtext            | YES  |     | NULL                |                | The meta data value.                              |
| updated_date | datetime            | NO   |     | 0000-00-00 00:00:00 |                | The timestamp of the last update to the metadata. |

### Create Statement

```mysql
CREATE TABLE IF NOT EXISTS `wp_lifterlms_user_postmeta` (
  `meta_id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  `user_id` bigint(20) UNSIGNED NOT NULL,
  `post_id` bigint(20) UNSIGNED NOT NULL,
  `meta_key` varchar(255) DEFAULT NULL,
  `meta_value` longtext DEFAULT NULL,
  `updated_date` datetime NOT NULL DEFAULT '0000-00-00 00:00:00',
  PRIMARY KEY (`meta_id`),
  KEY `user_id` (`user_id`),
  KEY `post_id` (`post_id`)
);
```

## lifterlms_voucher_code_redemptions

Records user voucher redemptions.

### Columns

| Field           | Type                | Null | Key | Default | Extra          | Description                                       |
| --------------- | ------------------- | ---- | --- | ------- | -------------- | ------------------------------------------------- |
| id              | int(20) unsigned    | NO   | PRI |         | auto_increment | The redemption ID.                                |
| code_id         | bigint(20) unsigned | NO   | MUL |         |                | The `WP_Post` ID of the voucher.                  |
| user_id         | bigint(20) unsigned | NO   | MUL |         |                | The `WP_User` ID.                                 |
| redemption_date | datetime            | YES  |     | NULL    |                | The timestamp of the last update to the metadata. |

### Create Statement

```mysql
CREATE TABLE IF NOT EXISTS `wp_lifterlms_voucher_code_redemptions` (
  `id` int(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  `code_id` bigint(20) UNSIGNED NOT NULL,
  `user_id` bigint(20) UNSIGNED NOT NULL,
  `redemption_date` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `code_id` (`code_id`),
  KEY `user_id` (`user_id`)
);
```

## lifterlms_vouchers_codes

Stores voucher codes which can be used to redeem a voucher.

### Columns

| Field            | Type                | Null | Key | Default | Extra          | Description                                      |
| ---------------- | ------------------- | ---- | --- | ------- | -------------- | ------------------------------------------------ |
| id               | bigint(20) unsigned | NO   | PRI |         | auto_increment | The redemption ID.                               |
| voucher_id       | bigint(20) unsigned | NO   | MUL |         |                | The `WP_Post` ID of the voucher.                 |
| code             | varchar(20)         | NO   | MUL |         |                | The voucher code.                                |
| redemption_count | bigint(20) unsigned | NO   |     |         |                | The number of times the code can be redeemed.    |
| is_deleted       | tinyint(1)          | NO   |     | 0       |                | Whether the code has been deleted.               |
| created_at       | datetime            | YES  |     | NULL    |                | The timestamp recorded when the code is created. |
| updated_at       | datetime            | YES  |     | NULL    |                | The timestamp recorded when the code is updated. |

### Create Statement

```mysql
CREATE TABLE IF NOT EXISTS `wp_lifterlms_vouchers_codes` (
  `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT,
  `voucher_id` bigint(20) UNSIGNED NOT NULL,
  `code` varchar(20) NOT NULL DEFAULT '',
  `redemption_count` bigint(20) UNSIGNED NOT NULL,
  `is_deleted` tinyint(1) NOT NULL DEFAULT '0',
  `created_at` datetime DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `code` (`code`),
  KEY `voucher_id` (`voucher_id`)
);
```
<!-- END TOKEN(Autogenerated API docs) -->

